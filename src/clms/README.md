# 计算机机房管理系统
### 作者：Jmc

## 1. 介绍
* 一个简单的计算机机房预约与管理系统
* 这个系统中有三个身份：教师，学生，管理员
* 简单来说就是学生预约，教师审核，管理员管理机房与账号

## 2. 编写目的
* 巩固暑假所学的c++知识，作为对c++的总结
* 将自己编写的工具类用于实际项目中

## 3. 用到的技术
* cmake -- 提供跨平台支持和源代码管理
* file -- 自己编写的工具类，用于对内存数据的持久化操作，并力求简化此过程

## 4. 构想和理念
* 构想：这个题目是黑马提供的，也是个大作业。但全程均由本人自己在不看教学视频的情况下完成，并加以部分功能上的改进。
* 理念：此系统旨在方便学生预约机房的手续


## 5. 详细功能

### 5.1 身份简介
* **学生**：申请使用机房
* **教师**：审核学生的预约申请
* **管理员**：给学生、老师创建账号

### 5.2 机房简介
机房总共有3间，
在这我增强了功能：学生预约成功时管理员可以直观地看到机房占用情况
* 1号机房 -- 最大容量20人
* 2号机房 -- 最大容量50人
* 3号机房 -- 最大容量100人

### 5.3 申请简介
* 申请的订单每周由管理员负责清空。
* 学生可以预约未来一周内的机房使用，预约的日期是周一到周五，预约时需要须看则预约的时段（上午或下午）
* 学生预约后处于审核期，在这期间只能在取消预约的情况下才能重新预约，不得申请多个预约
* 教师来审核预约，依据实际情况审核预约通过或者不通过

### 5.4 注意事项
* 默认未添加学生、教师账号，需通过进入管理员账号（在./clms/CLMSDATA/acct/admin_acct文件中）手动添加。
  添加完毕后会自动持久化
* 为了安全起见，管理员账号在程序中无法更改和添加，但可在上述文件中手动添加 
* 该程序中未提供账号修改的接口

## 6. 近期回顾
最近重新看了一遍源码，发现了当时书写时候的许多不足之处。以下我会一一列出

* 在**global_vars.h**中定义的**AppointmentSingleLineRecord**类
（用于存储预约记录）在使用过程中没有用指针，导致在存储预约记录过多的时候
可能栈内存溢出
* 在**global_vars.h**中定义的多个map集合，虽然提高了代码效率，
但提高了操作的难度并大大降低代码可读性，如：**map<string, pair<string, string>> teacher_map;**